<ion-modal-view>
    <ion-header-bar>
        <h1 class="title">Feedback</h1>
    </ion-header-bar>
    <!-- This is a hack how to know what modal is this template for - for some bookkeeping, at the time of writing - 20160825 - in main.js -->
    <ion-content has-bouncing="false" class="modalNamingSearch" name="feedback" ng-keyup="$root.keyUpHandler($event.keyCode, (form.$invalid || $('#primaryInput')[0] == document.activeElement));">
        <div class="list" ng-show="successInfo">
            <div class="item help-block item-no-wrap">
                {{successInfo}}
            </div>
            <button class="button button-block button-outline button-positive button-single marginTop1" ng-click="closeModal('feedback');">
                Close
            </button>
        </div>
        <form name="form" ng-show="!successInfo" novalidate ng-keyup="$root.keyUpHandler($event.keyCode, form.$invalid);">
            <div class="list customFormErrorList">
                <div ng-show="errorInfo" class="item help-block help-block-error item-no-wrap">
                    {{errorInfo}}
                </div>
            </div>
            <div class="list">
                <label class="item item-input">
                    <textarea ng-model="data.feedbackText" rows="15" required id="primaryInput"></textarea>
                </label>
            </div>

            <button class="button button-block button-positive button-single marginTop3" ng-disabled="form.$invalid" ng-click="confirmModal('feedback');">
                Send
            </button>
            <button class="button button-block button-outline button-dark button-single marginTop1" ng-click="closeModal('feedback');">
                Cancel
            </button>
        </form>
    </ion-content>
</ion-modal-view>