<div class="has-header maxWidth-1000" ng-class="{'marginTop3':(!$root.isMobileLow && !$root.isMobileNarrow)}" has-bouncing="false" scroll="true">
    <div class="list marginSides3" ng-show="successInfo">
        <div class="item help-block item-no-wrap">
            {{successInfo}}
        </div>
        <button class="button button-block button-positive button-single marginTop3" ng-click="$root.goToLogin();">
            Go to Login
        </button>
    </div>
    <form name="passwordResetForm" ng-show="!successInfo" novalidate ng-keyup="$root.keyUpHandler($event.keyCode);" class=" marginSides3">
        <div class="list customFormErrorList">
            <div ng-show="beingSubmitted && passwordResetForm.password.$error.required && !passwordResetForm.password.$pristine" class="item help-block">
                Please provide a valid password.
            </div>
            <div ng-show="beingSubmitted && (passwordResetForm.password.$error.complexity || passwordResetForm.password.$error.minlength) && !passwordResetForm.password.$pristine" class="item help-block">
                Password does not meet complexity requirements.
                <br/>
                The password has to have {{$parent.passwordRules.minLength}} or more characters from {{$parent.passwordRules.minGroups}} or more of the groups:
                <ul>
                    <li>a, b, c, ...</li>
                    <li>A, B, C, ...</li>
                    <li>1, 2, 3, ...</li>
                </ul>
            </div>
            <div ng-show="beingSubmitted && passwordResetForm.repeatPassword.$error.required && !passwordResetForm.repeatPassword.$pristine" class="item help-block">
                Please repeat the password.
            </div>
            <div ng-show="beingSubmitted && passwordResetForm.repeatPassword.$error.repeat && !passwordResetForm.repeatPassword.$pristine" class="item help-block">
                Passwords do not match.
            </div>
            <div ng-show="errorInfo" class="item help-block help-block-error item-no-wrap">
                {{errorInfo}}
            </div>
        </div>

        <div class="list">
            <label class="item bold">
                The password has to have {{$parent.passwordRules.minLength}} or more characters from {{$parent.passwordRules.minGroups}} or more of the groups:
                <br />
                <ul>
                    <li>a, b, c, ...</li>
                    <li>A, B, C, ...</li>
                    <li>1, 2, 3, ...</li>
                </ul>
            </label>
            <label class="item item-input">
                <div class="input-label">
                    Password
                </div>
                <input autofocus type="password" ng-model="data.password" id="passwordEdit" complex-password required name="password"
                       ng-class="{ 'has-error' : beingSubmitted && (passwordResetForm.password.$error.required || passwordResetForm.password.$error.complexity || passwordResetForm.password.$error.minlength) && !passwordResetForm.password.$pristine }">
            </label>

            <label class="item item-input">
                <div class="input-label">
                    Repeat password
                </div>
                <input type="password" ng-model="data.confirmPassword" repeat-password="password" required name="repeatPassword"
                       ng-class="{ 'has-error' : beingSubmitted && (passwordResetForm.repeatPassword.$error.required || passwordResetForm.repeatPassword.$error.repeat) && !passwordResetForm.repeatPassword.$pristine }">
            </label>
        </div>

        <button class="button button-block button-positive button-single" ng-disabled="passwordResetForm.$invalid || passwordResetForm.$pristine" ng-click="setPassword()">
            Save
        </button>
        <div class="marginTop3 marginSides1">Do you want to go to the login screen instead?</div>
        <button class="button button-block button-positive button-single marginTop1" ng-click="$root.goToLogin();">
            Login
        </button>
    </form>
</div>